<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ë¶•ì–´ë¹µ ê°€ê²Œ ì •ë³´ë¥¼ ì‰½ê²Œ ì°¾ì•„ë³´ì„¸ìš”">
    <title>ìœ¤ì“°ì˜ ê´‘ì•ˆë¦¬ ë¶•ì„¸ê¶Œ - ë¶•ì–´ë¹µ ê°€ê²Œ ì°¾ê¸°</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="header-content">
            <h1 class="logo">ğŸ ìœ¤ì“°ë¶•ì“° ê°•ì•Œë¦¬ë¶•ì„¸ê¶Œ</h1>
            <button class="btn-current-location" id="btnCurrentLocation" title="í˜„ì¬ ìœ„ì¹˜">
                <span class="btn-icon">ğŸ“</span>
                <span class="btn-text">í˜„ìœ„ì¹˜</span>
            </button>
        </div>
    </header>

    <!-- ê²€ìƒ‰ ë°” -->
    <div class="search-bar">
        <input type="text" 
               id="searchInput" 
               class="search-input" 
               placeholder="ì§€ì—­ëª… ë˜ëŠ” ê°€ê²Œëª… ê²€ìƒ‰"
               autocomplete="off">
        <button class="btn-search" id="btnSearch">ğŸ”</button>
    </div>

    <!-- íƒ­ ë²„íŠ¼ -->
    <div class="tabs">
        <button class="tab-btn active" id="tabMap">ì§€ë„</button>
        <button class="tab-btn" id="tabList">ëª©ë¡</button>
    </div>

    <!-- ì§€ë„ ì»¨í…Œì´ë„ˆ -->
    <div id="mapContainer" class="map-container active">
        <div id="map" class="map"></div>
    </div>

    <!-- ëª©ë¡ ì»¨í…Œì´ë„ˆ -->
    <div id="listContainer" class="list-container">
        <div class="list-header">
            <span id="storeCount">ì´ 0ê°œ</span>
            <select id="sortSelect" class="sort-select">
                <option value="distance">ê±°ë¦¬ìˆœ</option>
                <option value="name">ì´ë¦„ìˆœ</option>
            </select>
        </div>
        <div id="storeList" class="store-list">
            <!-- ê°€ê²Œ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <!-- ê°€ê²Œ ìƒì„¸ ëª¨ë‹¬ -->
    <div id="storeModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">Ã—</button>
            <div id="modalBody">
                <!-- ê°€ê²Œ ìƒì„¸ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
    </div>

    <!-- ì„¤ì • íŒŒì¼ ë¡œë“œ -->
    <script src="config.js"></script>
    <!-- ë„¤ì´ë²„ ì§€ë„ API ìŠ¤í¬ë¦½íŠ¸ (ë™ì ìœ¼ë¡œ ë¡œë“œ) -->
    <script>
        // ë„¤ì´ë²„ ì§€ë„ API ë¡œë“œ
        function loadNaverMapAPI() {
            // config.jsì—ì„œ API í‚¤ ê°€ì ¸ì˜¤ê¸°
            const apiKey = (typeof CONFIG !== 'undefined' && CONFIG.NAVER_MAP_API_KEY) 
                ? CONFIG.NAVER_MAP_API_KEY 
                : '';
            
            if (!apiKey || apiKey === 'YOUR_API_KEY_HERE' || apiKey.trim() === '') {
                console.error('ë„¤ì´ë²„ ì§€ë„ API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. config.js íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                alert('ë„¤ì´ë²„ ì§€ë„ API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n\nconfig.js íŒŒì¼ì— API í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = `https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${apiKey}`;
            script.onerror = function() {
                console.error('ë„¤ì´ë²„ ì§€ë„ APIë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                alert('ë„¤ì´ë²„ ì§€ë„ APIë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n\nê°€ëŠ¥í•œ ì›ì¸:\n1. API í‚¤ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤\n2. Web ì„œë¹„ìŠ¤ URLì´ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤\n3. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”');
            };
            document.head.appendChild(script);
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ API ë¡œë“œ
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadNaverMapAPI);
        } else {
            loadNaverMapAPI();
        }
    </script>
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>

